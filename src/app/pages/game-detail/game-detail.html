<app-header></app-header>

<main class="game-detail-container" *ngIf="!loading && game">

  <!-- üß© ‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏ã‡πâ‡∏≤‡∏¢: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡∏°‡∏´‡∏•‡∏±‡∏Å -->
  <section class="game-media card">
    <div class="image-container">
      <img [src]="game.imageUrl" [alt]="game.name + ' Game Cover'">
      <span class="rank-badge-on-image" *ngIf="game.rank">{{ game.rank }}</span>
    </div>

    <h1>{{ game.name }}</h1>

    <div class="subtitle-info" *ngIf="game.rank">
      <span class="rank-pill">‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà {{ game.rank }}</span>
    </div>

    <p *ngIf="game.categoryName"><strong>‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡πÄ‡∏Å‡∏°:</strong> {{ game.categoryName }}</p>

    <p class="release-date" *ngIf="game.releasedAt">
      <strong>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ß‡∏≤‡∏á‡∏Ç‡∏≤‡∏¢:</strong> {{ game.releasedAt | date:'d/M/y' }}
    </p>
  </section>

  <!-- üß© ‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏Ç‡∏ß‡∏≤: ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° -->
  <section class="game-info-card card">
    <button class="cart-button-icon" (click)="addToCart()">
      <span class="material-symbols-outlined">shopping_cart</span>
    </button>

    <div class="info-section">
      <h3>{{ game.name }}</h3>
      <p *ngIf="game.categoryName"><strong>‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡πÄ‡∏Å‡∏°:</strong> {{ game.categoryName }}</p>
      <p *ngIf="game.description"><strong>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î:</strong> {{ game.description }}</p>
    </div>

    <div class="price-section" *ngIf="game.price">
      <span>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</span>
      <span class="price">{{ game.price | number:'1.0-0' }} ‡∏ø</span>
    </div>

    <div class="action-buttons">
      <button class="btn btn-buy" [disabled]="alreadyOwned" (click)="buyNow()">
        {{ alreadyOwned ? '‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß' : '‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏Å‡∏°‡∏ô‡∏µ‡πâ' }}
      </button>

      <button class="btn btn-add-to-cart" [disabled]="alreadyOwned" (click)="addToCart()">
        {{ alreadyOwned ? '‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß' : '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤' }}
      </button>
    </div>
  </section>

</main>

<div *ngIf="loading" class="loading-text">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡∏°...</div>
