<app-header></app-header>
<div class="dashboard-container">
  <!-- ‚úÖ Sidebar -->
  <aside class="sidebar">
    <ul>
      <li (click)="goManageGames()"><i class="fa-solid fa-gamepad"></i> ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡∏°</li>
      <li (click)="goDiscount()"><i class="fa-solid fa-percent"></i> ‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î</li>
      <li class="active"><i class="fa-solid fa-list-ol"></i> ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ</li>
      <li (click)="goTransactionsUser()"><i class="fa-solid fa-clipboard-list"></i> ‡∏ò‡∏∏‡∏£‡∏Å‡∏£‡∏£‡∏°‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</li>
    </ul>
  </aside>

  <!-- ‚úÖ Main Content -->
  <main class="manage-content">
    <h2>üèÜ ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ</h2>

    <div class="top-bar">
      <input type="date" [(ngModel)]="selectedDate" (change)="onDateChange()" />
    </div>

    <div *ngIf="loading" class="loading">‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</div>

    <div *ngIf="!loading && games.length > 0" class="table-wrapper">
      <table class="ranking-table">
        <thead>
          <tr>
            <th>‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö</th>
            <th>‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡∏°</th>
            <th>‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢ (‡∏Ñ‡∏£‡∏±‡πâ‡∏á)</th>
            <th>‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let g of games; let i = index">
            <td>{{ i + 1 }}</td>
            <td>{{ g.name }}</td>
            <td>{{ g.totalSold || 0 }}</td>
            <td>{{ selectedDate | date: 'dd/MM/yyyy' }}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <p class="message" *ngIf="message && !loading">{{ message }}</p>
  </main>
</div>
